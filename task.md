# Task: Migrate Clerk to Better Auth

- [/] Phase 1: Parallel Installation
    - [x] Install dependencies (`better-auth`, `@better-auth/cli`) <!-- id: 0 -->
    - [x] Configure Environment Variables (`BETTER_AUTH_SECRET`, `BETTER_AUTH_URL`) <!-- id: 1 -->
    - [x] Create `src/lib/auth.ts` with Organization Plugin <!-- id: 2 -->
    - [x] Generate Schema (Manual Fallback) <!-- id: 3 -->
    - [x] Run DB Migration (Used `db push` to handle drift) <!-- id: 4 -->
- [x] Phase 2: Implementation
    - [x] Create API Route (`src/app/api/auth/[...all]/route.ts`) <!-- id: 5 -->
    - [x] Create Client Hook (`src/lib/auth-client.ts`) <!-- id: 6 -->
    - [x] Update Middleware <!-- id: 7 -->
- [/] Phase 3: Data Migration
    - [x] proper migration script <!-- id: 8 -->
    - [ ] Assign Roles <!-- id: 9 -->
- [ ] Phase 4: Custom UI Implementation
    - [x] Verify/Install Registry Components (Card, Input, Button, Label, Tabs, Sonner, Form) <!-- id: 10 -->
    - [x] Create Auth Layout `src/app/(auth)/layout.tsx` <!-- id: 11 -->
    - [x] Implement Login Page `src/app/(auth)/login/page.tsx` <!-- id: 12 -->
    - [x] Implement Signup Page `src/app/(auth)/sign-up/page.tsx` <!-- id: 13 -->
    - [x] Implement Forgot Password `src/app/(auth)/forgot-password/page.tsx` <!-- id: 14 -->
- [x] Migrate Auth To Better Auth `task_active`
    - [x] Replace Clerk `UserButton` with custom component <!-- id: 0 -->
    - [x] Remove all remaining `@clerk` imports <!-- id: 1 -->
    - [x] Ensure compilation success <!-- id: 2 -->
    - [x] Verify Fixes
        - [x] Verify Login/Dashboard Access <!-- id: 4 -->
        - [x] Verify Sign Out <!-- id: 5 -->
    - [x] Deploy to Production
        - [x] Verify `package.json` and `auth.ts` config <!-- id: 6 -->
        - [x] Push to GitHub <!-- id: 7 -->
- [x] Phase 5: Switchover & Cleanup
    - [x] Update Navbar SignOut <!-- id: 15 -->
    - [x] Update Middleware strictness <!-- id: 16 -->
    - [x] Remove Clerk <!-- id: 17 -->
